
<!DOCTYPE html>


<html>
	<head>
		<meta charset="utf-8">
	    
	    <title>File Helper &mdash; CodeIgniter 3.0-dev documentation</title>

	    <link rel="stylesheet" href="../_static/asset/css/common.css" type="text/css" />
	    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
	    <script type="text/javascript">
	      var DOCUMENTATION_OPTIONS = {
	        URL_ROOT:    '../',
	        VERSION:     '3.0-dev',
	        COLLAPSE_INDEX: false,
	        FILE_SUFFIX: '.html',
	        HAS_SOURCE:  false
	      };
	    </script>
	    <script type="text/javascript" src="../_static/jquery.js"></script>
	    <script type="text/javascript" src="../_static/underscore.js"></script>
	    <script type="text/javascript" src="../_static/doctools.js"></script>
	    <link rel="top" title="CodeIgniter 3.0-dev documentation" href="../index.html" />
	    <link rel="up" title="Helpers" href="index.html" />
	    <link rel="next" title="Form Helper" href="form_helper.html" />
	    <link rel="prev" title="Email Helper" href="email_helper.html" /> 
	</head>
	<body>
		<div id="table-contents">
			<div class="toctree-wrapper compound">
			<function <lambda> at 0xa48b72c>
			</div>
		</div>

		<div id="brand" class="ci">
			<a href="http://codeigniter.com/"><img src="../_static/asset/img/ci-logo.gif" alt="CodeIgniter"></a>
			<p>3.0-dev User Guide</p>
		</div><!-- /#brand -->

		<div id="header"><!--
	--------------------------------
	Original Google search box block
	--------------------------------
	
<form method="get" action="http://www.google.com/search">
	<fieldset>
		<input type="text" name="q" id="q" value="">
		<input type="hidden" name="as_sitesearch" id="as_sitesearch" value="codeigniter.com/user_guide/" />
		<input class="grades" type="submit" value="search">
	</fieldset>
</form>
-->


<form class="search" action="../search.html" method="get">
  <input type="text" name="q" id="q" value="" />
  <input type="submit" value="search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
			<ul>
				<li><a href="../index.html">User Guide Home</a>&nbsp;&nbsp; &rsaquo;</li>
				<li><a href="index.html" accesskey="U">Helpers</a>&nbsp;&nbsp;  &rsaquo;</li>
				<li><strong>File Helper</strong></li>
			</ul>
		</div><!-- /#header -->

		<div class="section body" id="content">
  <div class="section" id="file-helper">
<h1><a class="toc-backref" href="#id1">File Helper</a><a class="headerlink" href="#file-helper" title="Permalink to this headline">¶</a></h1>
<p>The File Helper file contains functions that assist in working with files.</p>
<div class="contents topic" id="page-contents">
<p class="topic-title first">Page Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#file-helper" id="id1">File Helper</a><ul>
<li><a class="reference internal" href="#loading-this-helper" id="id2">Loading this Helper</a></li>
<li><a class="reference internal" href="#read-file" id="id3">read_file()</a></li>
<li><a class="reference internal" href="#write-file" id="id4">write_file()</a></li>
<li><a class="reference internal" href="#delete-files" id="id5">delete_files()</a></li>
<li><a class="reference internal" href="#get-filenames" id="id6">get_filenames()</a></li>
<li><a class="reference internal" href="#get-dir-file-info" id="id7">get_dir_file_info()</a></li>
<li><a class="reference internal" href="#get-file-info" id="id8">get_file_info()</a></li>
<li><a class="reference internal" href="#get-mime-by-extension" id="id9">get_mime_by_extension()</a></li>
<li><a class="reference internal" href="#symbolic-permissions" id="id10">symbolic_permissions()</a></li>
<li><a class="reference internal" href="#octal-permissions" id="id11">octal_permissions()</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="loading-this-helper">
<h2><a class="toc-backref" href="#id2">Loading this Helper</a><a class="headerlink" href="#loading-this-helper" title="Permalink to this headline">¶</a></h2>
<p>This helper is loaded using the following code:</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">helper</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The following functions are available:</p>
</div>
<div class="section" id="read-file">
<h2><a class="toc-backref" href="#id3">read_file()</a><a class="headerlink" href="#read-file" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="read_file">
<tt class="descname">read_file</tt><big>(</big><em>$file</em><big>)</big><a class="headerlink" href="#read_file" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$file</strong> (<em>string</em>) &#8211; File path</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">string or FALSE on failure</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Returns the data contained in the file specified in the path.</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nv">$string</span> <span class="o">=</span> <span class="nx">read_file</span><span class="p">(</span><span class="s1">&#39;./path/to/file.php&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The path can be a relative or full server path. Returns FALSE (boolean) on failure.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The path is relative to your main site index.php file, NOT your
controller or view files. CodeIgniter uses a front controller so paths
are always relative to the main site index.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is DEPRECATED. Use the native <tt class="docutils literal"><span class="pre">file_get_contents()</span></tt>
instead.</p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If your server is running an <strong>open_basedir</strong> restriction this
function might not work if you are trying to access a file above the
calling script.</p>
</div>
</div>
<div class="section" id="write-file">
<h2><a class="toc-backref" href="#id4">write_file()</a><a class="headerlink" href="#write-file" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="write_file">
<tt class="descname">write_file</tt><big>(</big><em>$path</em>, <em>$data</em>, <em>$mode = 'wb'</em><big>)</big><a class="headerlink" href="#write_file" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$path</strong> (<em>string</em>) &#8211; File path</li>
<li><strong>$data</strong> (<em>string</em>) &#8211; Data to write to file</li>
<li><strong>$mode</strong> (<em>string</em>) &#8211; <tt class="docutils literal"><span class="pre">fopen()</span></tt> mode</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Writes data to the file specified in the path. If the file does not exist then the
function will create it.</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nv">$data</span> <span class="o">=</span> <span class="s1">&#39;Some file data&#39;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nx">write_file</span><span class="p">(</span><span class="s1">&#39;./path/to/file.php&#39;</span><span class="p">,</span> <span class="nv">$data</span><span class="p">))</span>
<span class="p">{</span>
        <span class="k">echo</span> <span class="s1">&#39;Unable to write the file&#39;</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
        <span class="k">echo</span> <span class="s1">&#39;File written!&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can optionally set the write mode via the third parameter:</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nx">write_file</span><span class="p">(</span><span class="s1">&#39;./path/to/file.php&#39;</span><span class="p">,</span> <span class="nv">$data</span><span class="p">,</span> <span class="s1">&#39;r+&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The default mode is &#8216;wb&#8217;. Please see the <a class="reference external" href="http://php.net/fopen">PHP user guide</a>
for mode options.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The path is relative to your main site index.php file, NOT your
controller or view files. CodeIgniter uses a front controller so paths
are always relative to the main site index.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function acquires an exclusive lock on the file while writing to it.</p>
</div>
</div>
<div class="section" id="delete-files">
<h2><a class="toc-backref" href="#id5">delete_files()</a><a class="headerlink" href="#delete-files" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="delete_files">
<tt class="descname">delete_files</tt><big>(</big><em>$path</em>, <em>$del_dir = FALSE</em>, <em>$htdocs = FALSE</em><big>)</big><a class="headerlink" href="#delete_files" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$path</strong> (<em>string</em>) &#8211; Directory path</li>
<li><strong>$del_dir</strong> (<em>bool</em>) &#8211; Whether to also delete directories</li>
<li><strong>$htdocs</strong> (<em>bool</em>) &#8211; Whether to skip deleting .htaccess and index page files</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Deletes ALL files contained in the supplied path.</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nx">delete_files</span><span class="p">(</span><span class="s1">&#39;./path/to/directory/&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>If the second parameter is set to TRUE, any directories contained within the supplied
root path will be deleted as well.</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nx">delete_files</span><span class="p">(</span><span class="s1">&#39;./path/to/directory/&#39;</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The files must be writable or owned by the system in order to be deleted.</p>
</div>
</div>
<div class="section" id="get-filenames">
<h2><a class="toc-backref" href="#id6">get_filenames()</a><a class="headerlink" href="#get-filenames" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="get_filenames">
<tt class="descname">get_filenames</tt><big>(</big><em>$source_dir</em>, <em>$include_path = FALSE</em><big>)</big><a class="headerlink" href="#get_filenames" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$source_dir</strong> (<em>string</em>) &#8211; Directory path</li>
<li><strong>$include_path</strong> (<em>bool</em>) &#8211; Whether to include the path as part of the filenames</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Takes a server path as input and returns an array containing the names of all files
contained within it. The file path can optionally be added to the file names by setting
the second parameter to TRUE.</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nv">$controllers</span> <span class="o">=</span> <span class="nx">get_filenames</span><span class="p">(</span><span class="nx">APPPATH</span><span class="o">.</span><span class="s1">&#39;controllers/&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="get-dir-file-info">
<h2><a class="toc-backref" href="#id7">get_dir_file_info()</a><a class="headerlink" href="#get-dir-file-info" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="get_dir_file_info">
<tt class="descname">get_dir_file_info</tt><big>(</big><em>$source_dir</em>, <em>$top_level_only</em><big>)</big><a class="headerlink" href="#get_dir_file_info" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$source_dir</strong> (<em>string</em>) &#8211; Directory path</li>
<li><strong>$top_level_only</strong> (<em>bool</em>) &#8211; Whether to look only at the specified directory
(excluding sub-directories)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Reads the specified directory and builds an array containing the filenames, filesize,
dates, and permissions. Sub-folders contained within the specified path are only read
if forced by sending the second parameter to FALSE, as this can be an intensive
operation.</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nv">$models_info</span> <span class="o">=</span> <span class="nx">get_dir_file_info</span><span class="p">(</span><span class="nx">APPPATH</span><span class="o">.</span><span class="s1">&#39;models/&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="get-file-info">
<h2><a class="toc-backref" href="#id8">get_file_info()</a><a class="headerlink" href="#get-file-info" title="Permalink to this headline">¶</a></h2>
<p>Given a file and path, returns (optionally) the <em>name</em>, <em>path</em>, <em>size</em> and <em>date modified</em>
information attributes for a file. Second parameter allows you to explicitly declare what
information you want returned.</p>
<p>Valid <tt class="docutils literal"><span class="pre">$returned_values</span></tt> options are: <cite>name</cite>, <cite>size</cite>, <cite>date</cite>, <cite>readable</cite>, <cite>writeable</cite>,
<cite>executable</cite> and <cite>fileperms</cite>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <em>writable</em> attribute is checked via PHP&#8217;s <tt class="docutils literal"><span class="pre">is_writeable()</span></tt> function, which
known to have issues on the IIS webserver. Consider using <em>fileperms</em> instead,
which returns information from PHP&#8217;s <tt class="docutils literal"><span class="pre">fileperms()</span></tt> function.</p>
</div>
</div>
<div class="section" id="get-mime-by-extension">
<h2><a class="toc-backref" href="#id9">get_mime_by_extension()</a><a class="headerlink" href="#get-mime-by-extension" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="get_mime_by_extension">
<tt class="descname">get_mime_by_extension</tt><big>(</big><em>$filename</em><big>)</big><a class="headerlink" href="#get_mime_by_extension" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$filename</strong> (<em>string</em>) &#8211; File name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">string or FALSE on failure</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Translates a filename extension into a MIME type based on <em>config/mimes.php</em>.
Returns FALSE if it can&#8217;t determine the type, or read the MIME config file.</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="nv">$file</span> <span class="o">=</span> <span class="s1">&#39;somefile.png&#39;</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$file</span><span class="o">.</span><span class="s1">&#39; is has a mime type of &#39;</span><span class="o">.</span><span class="nx">get_mime_by_extension</span><span class="p">(</span><span class="nv">$file</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is not an accurate way of determining file MIME types, and
is here strictly for convenience. It should not be used for security
purposes.</p>
</div>
</div>
<div class="section" id="symbolic-permissions">
<h2><a class="toc-backref" href="#id10">symbolic_permissions()</a><a class="headerlink" href="#symbolic-permissions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="symbolic_permissions">
<tt class="descname">symbolic_permissions</tt><big>(</big><em>$perms</em><big>)</big><a class="headerlink" href="#symbolic_permissions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$perms</strong> (<em>int</em>) &#8211; Permissions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Takes numeric permissions (such as is returned by <tt class="docutils literal"><span class="pre">fileperms()</span></tt>) and returns
standard symbolic notation of file permissions.</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="k">echo</span> <span class="nx">symbolic_permissions</span><span class="p">(</span><span class="nb">fileperms</span><span class="p">(</span><span class="s1">&#39;./index.php&#39;</span><span class="p">));</span>  <span class="c1">// -rw-r--r--</span>
</pre></div>
</div>
</div>
<div class="section" id="octal-permissions">
<h2><a class="toc-backref" href="#id11">octal_permissions()</a><a class="headerlink" href="#octal-permissions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="octal_permissions">
<tt class="descname">octal_permissions</tt><big>(</big><em>$perms</em><big>)</big><a class="headerlink" href="#octal_permissions" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>$perms</strong> (<em>int</em>) &#8211; Permissions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>Takes numeric permissions (such as is returned by <tt class="docutils literal"><span class="pre">fileperms()</span></tt>) and returns
a three character octal notation of file permissions.</p>
<div class="highlight-ci"><div class="highlight"><pre><span class="k">echo</span> <span class="nx">octal_permissions</span><span class="p">(</span><span class="nb">fileperms</span><span class="p">(</span><span class="s1">&#39;./index.php&#39;</span><span class="p">));</span> <span class="c1">// 644</span>
</pre></div>
</div>
</div>
</div>


		</div>

		<!-- {user_guide_comments} -->
					
		<div id="footer">
			<p class="top"><a href="#header" title="Return to top">Return to top</a></p>
			<p><a href="http://codeigniter.com/">CodeIgniter</a> &ndash; Copyright &copy; 2013, EllisLab, Inc.</a></p>
		</div><!-- /#footer -->
	</body>
</html>